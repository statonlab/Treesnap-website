/*! For license information please see 178.cf5d6f179acbb505.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[178,685],{52660:(t,e,r)=>{"use strict";r.d(e,{A:()=>b});var n=r(96540);const o=[{to:"/account",icon:"fa-address-card-o",label:"Settings"},{to:"/account/observations",icon:"fa-tree",label:"Observations"},{to:"/account/groups",icon:"fa-users",label:"Groups"},{to:"/account/collections",icon:"fa-th",label:"Collections"},{to:"/account/filters",icon:"fa-filter",label:"Filters"}];var i=r(11954),s=r(32660),a=r(57969),c=r(74848);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:String(e)}function p(t,e,r){return e=d(e),function(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,r||[],d(t).constructor):e.apply(t,r))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,e,arguments)}var r,n,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),r=e,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,c.jsxs)("div",{children:[(0,c.jsx)(i.A,{}),(0,c.jsx)("div",{className:"home-section short-content",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"columns",children:[(0,c.jsx)("div",{className:"column is-narrow account-sidebar-container",children:(0,c.jsx)(a.A,{links:o,title:"Members"})}),(0,c.jsx)("div",{className:"column",children:this.props.children})]})})}),(0,c.jsx)(s.A,{})]})}}])&&l(r.prototype,n),u&&l(r,u),Object.defineProperty(r,"prototype",{writable:!1}),e}(n.Component)},69688:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>A});var n=r(96540),o=r(5556),i=r.n(o),s=r(10985),a=r(95093),c=r.n(a),u=r(54625),l=r(40199),f=r(57061),p=r(74848);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function y(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:String(e)}function b(t,e,r){return e=v(e),function(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,m()?Reflect.construct(e,r||[],v(t).constructor):e.apply(t,r))}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(m=function(){return!!t})()}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}var g=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=b(this,e,[t])).state={searchTerm:"",groups:[],loading:!1,joiningGroup:-1,seeMore:!1},r}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(e,t),r=e,(n=[{key:"componentDidMount",value:function(){this.search()}},{key:"search",value:function(t){var e=this;void 0!==t?this.setState({searchTerm:t}):t="",axios.get("/web/groups/search",{params:{term:t}}).then((function(t){e.setState({groups:t.data.data})})).catch((function(t){console.log(t)}))}},{key:"join",value:function(t){var e=this;-1===this.state.joiningGroup&&(this.setState({joiningGroup:t.id,loading:!0}),axios.post("/web/groups/join/".concat(t.id)).then((function(t){l.A.push(t.data.data),e.setState({joiningGroup:-1,loading:!1}),e.search(e.state.searchTerm)})).catch((function(t){if(e.setState({joiningGroup:-1,loading:!1}),t.response){var r=t.response;switch(r.status){case 404:l.A.push("Unknown group selected! Please select a valid group","danger");break;case 422:r.data.error?l.A.push(r.data.error,"danger"):l.A.push("Unknown error! Please try again later","danger");break;default:l.A.push("Internal server error! Please try again later","danger")}}else l.A.push("Network error! Please try again later","danger")})))}},{key:"render",value:function(){var t=this,e=this.state.seeMore?this.state.groups:this.state.groups.slice(0,4);return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"field mb-1",children:(0,p.jsx)("div",{className:"control",children:(0,p.jsx)("input",{type:"search",className:"input",placeholder:"Type to search...",onChange:function(e){var r=e.target;return t.search(r.value)},value:this.state.searchTerm})})}),(0,p.jsx)("table",{className:"table has-text-vertically-centered",children:(0,p.jsxs)("tbody",{children:[0===e.length&&this.state.searchTerm.length>0?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:3,className:"has-text-grey",children:"No results found"})}):null,e.map((function(e){var r=t.state.joiningGroup===e.id?" is-loading":" is-outlined";return r+=e.has_request?" is-warning":" is-success",(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:e.name}),(0,p.jsxs)("td",{children:[e.users_count," Members"]}),(0,p.jsx)("td",{className:"has-text-right",children:(0,p.jsx)("button",{type:"button",className:"button is-small".concat(r),disabled:t.state.loading&&t.state.joiningGroup!==e.id,onClick:function(){return t.join(e)},children:e.has_request?"Pending":"Join"})})]},e.id)}))]})}),this.state.groups.length>4?(0,p.jsx)("a",{className:"is-block has-text-centered",onClick:function(){return t.setState({seeMore:!t.state.seeMore})},children:this.state.seeMore?"See Less":"See More"}):null]})}}])&&d(r.prototype,n),o&&d(r,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(n.Component);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function x(){x=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,s=Object.create(i.prototype),a=new C(n||[]);return o(s,"_invoke",{value:N(t,r,a)}),s}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",y="completed",b={};function m(){}function v(){}function j(){}var g={};u(g,s,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(L([])));S&&S!==r&&n.call(S,s)&&(g=S);var k=j.prototype=m.prototype=Object.create(g);function P(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,s,a){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==w(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(l).then((function(t){u.value=t,s(u)}),(function(t){return r("throw",t,s,a)}))}a(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function N(e,r,n){var o=p;return function(i,s){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw s;return{value:t,done:!0}}for(n.method=i,n.arg=s;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:h,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var s=i.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(w(e)+" is not iterable")}return v.prototype=j,o(k,"constructor",{value:j,configurable:!0}),o(j,"constructor",{value:v,configurable:!0}),v.displayName=u(j,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},P(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var s=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},P(k),u(k,c,"Generator"),u(k,s,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function O(t,e,r,n,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function S(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){O(i,n,o,s,a,"next",t)}function a(t){O(i,n,o,s,a,"throw",t)}s(void 0)}))}}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P(n.key),n)}}function P(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:String(e)}function _(t,e,r){return e=E(e),function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,N()?Reflect.construct(e,r||[],E(t).constructor):e.apply(t,r))}function N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(N=function(){return!!t})()}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}var A=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=_(this,e,[t])).state={name:"",share:!1,isPrivate:0,errors:{share:[],name:[],isPrivate:[]},groups:[],invitations:[],acceptingInvitation:-1,success:!1,loading:!0},document.title="Groups - TreeSnap",r}var r,n,o,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(e,t),r=e,n=[{key:"componentDidMount",value:(a=S(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadGroupsAndInvitations();case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"loadGroupsAndInvitations",value:(i=S(x().mark((function t(){var e,r,n;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),t.prev=1,t.next=4,Promise.all([axios.get("/web/groups"),axios.get("/web/invitations")]);case 4:e=t.sent,r=e[0].data.data,n=e[1].data.data,this.setState({groups:r,invitations:n,loading:!1,acceptingInvitation:-1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),this.setState({loading:!1});case 14:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(){return i.apply(this,arguments)})},{key:"_renderGroupsTable",value:function(){if(0===this.state.groups.length)return(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:"There are no available groups yet. You can create a group using the form below."}),(0,p.jsx)("p",{children:"If someone else invites you to join their group, the group will show up here once you accept the invitation."})]});var t=this.props.admin;return(0,p.jsxs)("table",{className:"table is-striped mb-none",id:"groups-table",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Name"}),(0,p.jsx)("th",{children:"Users"}),(0,p.jsx)("th",{children:"Leader"}),(0,p.jsx)("th",{children:"Date Created"})]})}),(0,p.jsx)("tbody",{children:this.state.groups.map((function(e,r){return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:(0,p.jsxs)(u.N_,{to:"".concat(t?"":"/account","/group/").concat(e.id),children:[e.name," ","You"===e.owner.name&&e.group_requests_count>0?(0,p.jsxs)("i",{className:"tag is-success",children:[e.group_requests_count," pending requests"]}):null]})}),(0,p.jsx)("td",{children:e.users_count}),(0,p.jsx)("td",{children:e.owner.name}),(0,p.jsx)("td",{children:c()(e.created_at).format("MMM Do, YYYY")})]},r)}))})]})}},{key:"_renderInvitationsTable",value:function(){var t=this;return 0===this.state.invitations.length?(0,p.jsx)("div",{children:(0,p.jsx)("p",{children:"You have no pending invitations."})}):(0,p.jsxs)("table",{className:"table is-striped mb-none",id:"groups-table",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Group Name"}),(0,p.jsx)("th",{children:"Group Owner"}),(0,p.jsx)("th",{children:"Invited By"}),(0,p.jsx)("th",{})]})}),(0,p.jsx)("tbody",{children:this.state.invitations.map((function(e,r){return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:e.group.name}),(0,p.jsx)("td",{children:e.group.owner.name}),(0,p.jsx)("td",{children:e.user.name}),(0,p.jsx)("td",{className:"has-text-right",children:(0,p.jsx)("button",{type:"button",className:"button is-primary is-outlined ".concat(t.state.loading?" disabled":""),disabled:t.state.loading&&t.state.acceptingInvitation!==e.group.id,onClick:function(){return t.acceptInvite(e)},children:"Accept Invite"})})]},r)}))})]})}},{key:"acceptInvite",value:function(t){var e=this;-1===this.state.acceptingInvitation&&(this.setState({acceptingInvitation:t.id,loading:!0}),axios.post("/web/invitations/accept",{invite:t.id,_t:t.token}).then(S(x().mark((function r(){return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l.A.push("You have joined ".concat(t.group.name," successfully.")),r.next=3,e.loadGroupsAndInvitations();case 3:case"end":return r.stop()}}),r)})))).catch((function(t){if(e.setState({acceptingInvitation:-1,loading:!1}),t.response){var r=t.response;console.error(r)}else l.A.push("Network error! Please try again later","danger")})))}},{key:"_renderForm",value:function(){var t=this;return(0,p.jsxs)("form",{action:"#",onSubmit:this.submit.bind(this),children:[(0,p.jsxs)("div",{className:"field",children:[(0,p.jsx)("label",{className:"label",children:"Group Name"}),(0,p.jsxs)("div",{className:"control is-expanded",children:[(0,p.jsx)("input",{type:"text",className:"limit-width input".concat(this.state.errors.name.length>0?" is-danger":""),value:this.state.name,placeholder:"Group Name",onChange:function(e){var r=e.target;return t.setState({name:r.value})}}),this.state.errors.name.map((function(t,e){return(0,p.jsx)("p",{className:"help is-danger",children:t},e)}))]})]}),(0,p.jsxs)("div",{className:"field",children:[(0,p.jsx)("label",{className:"label",children:"Discoverability"}),(0,p.jsxs)("div",{className:"control is-expanded",children:[(0,p.jsx)("span",{className:"select",children:(0,p.jsxs)("select",{value:this.state.isPrivate,onChange:function(e){var r=e.target;return t.setState({isPrivate:parseInt(r.value)})},children:[(0,p.jsx)("option",{value:1,children:"Users must be invited to join"}),(0,p.jsx)("option",{value:0,children:"Allow anyone to find this group and apply to join"})]})}),this.state.errors.isPrivate.map((function(t,e){return(0,p.jsx)("p",{className:"help is-danger",children:t},e)}))]})]}),(0,p.jsxs)("div",{className:"field",children:[(0,p.jsx)("div",{className:"control",children:(0,p.jsxs)("label",{className:"checkbox",children:[(0,p.jsx)("input",{type:"checkbox",className:"mr-0",onChange:function(e){var r=e.target;return t.setState({share:r.checked})},checked:this.state.share}),(0,p.jsx)("span",{children:"Share all of my observations with members of this group including accurate location coordinates"})]})}),this.state.errors.share.map((function(t,e){return(0,p.jsx)("p",{className:"help is-danger",children:t},e)}))]}),(0,p.jsx)("div",{className:"field",children:(0,p.jsx)("div",{className:"control",children:(0,p.jsx)("button",{type:"submit",className:"button is-primary",children:"Create Group"})})})]})}},{key:"submit",value:function(t){var e=this;t.preventDefault(),axios.post("/web/groups",{name:this.state.name,share:this.state.share,is_private:1===this.state.isPrivate}).then((function(t){var r=t.data.data,n=e.state.groups;n.push(r),e.setState({name:"",groups:n,errors:{name:[],share:[],isPrivate:[]}}),l.A.push("Group created successfully."),f.A.emit("user.groups.updated")})).catch((function(t){if(t.response&&422===t.response.status){var r=t.response.data;e.setState({errors:{name:r.name||[],share:r.share||[],isPrivate:r.is_private||[]}})}}))}},{key:"render",value:function(){return(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:"title is-3",children:"User Groups"}),(0,p.jsxs)("div",{className:"box",children:[(0,p.jsx)("h4",{className:"title is-4",children:"Groups"}),this._renderGroupsTable(),(0,p.jsx)("h4",{className:"title is-4 mt-2",children:"Invitations"}),this._renderInvitationsTable()]}),(0,p.jsxs)("div",{className:"columns is-multiline",children:[(0,p.jsx)("div",{className:"column is-12-tablet is-6-desktop is-6-fullhd",children:(0,p.jsxs)("div",{className:"box",children:[(0,p.jsx)("h2",{className:"title is-4",children:"Create New Group"}),this._renderForm()]})}),(0,p.jsx)("div",{className:"column is-12-tablet is-6-desktop is-6-fullhd",children:(0,p.jsxs)("div",{className:"box",children:[(0,p.jsx)("h2",{className:"title is-4",children:"Join a Group"}),(0,p.jsx)("p",{className:"mb-1",children:"Search and apply to join public groups"}),(0,p.jsx)(g,{})]})})]}),(0,p.jsx)(s.A,{visible:this.state.loading})]})}}],n&&k(r.prototype,n),o&&k(r,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(n.Component);A.propTypes={admin:i().bool},A.defaultProps={admin:!0}},32660:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var n=r(96540),o=r(72060),i=r(74848);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:String(e)}function u(t,e,r){return e=f(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}var h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,e,[t])}var r,n,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){return(0,i.jsx)("div",{className:"home-footer",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"columns has-text-centered",children:[(0,i.jsxs)("div",{className:"column is-4",children:[(0,i.jsx)("p",{children:(0,i.jsx)("b",{children:"Site Map"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/map",children:"Observations Map"})}),o.A.authenticated()?(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/account",children:"Your Account"})}):null,o.A.authenticated()?null:(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/register",children:"Registration"})}),o.A.authenticated()?null:(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/login",children:"Login"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/developer",children:"Developer"})})]})]}),(0,i.jsxs)("div",{className:"column is-4",children:[(0,i.jsx)("p",{children:(0,i.jsx)("b",{children:"Resources"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/about",children:"About Us"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",children:"Contact Us"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/partners",children:"Scientific Partners"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/trees",children:"The Trees of TreeSnap"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/faq",children:"Frequently Asked Questions"})})]})]}),(0,i.jsxs)("div",{className:"column is-4",children:[(0,i.jsx)("p",{className:"mb-1",children:(0,i.jsx)("b",{children:"Legal"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/privacy-policy",children:"Privacy Policy"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/terms-of-use",children:"Terms of Use"})})]})]})]}),(0,i.jsxs)("div",{className:"columns logos",children:[(0,i.jsx)("div",{className:"column has-text-centered",children:(0,i.jsx)("a",{href:"https://www.utk.edu/",children:(0,i.jsx)("img",{src:"/images/ut3.png",alt:"University of Tennessee Logo"})})}),(0,i.jsx)("div",{className:"column has-text-centered",children:(0,i.jsx)("a",{href:"https://uky.edu",children:(0,i.jsx)("img",{src:"/images/uky3.png",alt:"University of Kentucky Logo"})})}),(0,i.jsx)("div",{className:"column has-text-centered",children:(0,i.jsx)("a",{href:"https://www.nsf.gov/",children:(0,i.jsx)("img",{src:"/images/nsf1.png",alt:"NSF Logo"})})})]}),(0,i.jsxs)("p",{className:"has-text-centered",children:["Copyright © ",(new Date).getFullYear()," University of Tennessee Knoxville and University of Kentucky."]})]})})}}])&&a(r.prototype,n),s&&a(r,s),Object.defineProperty(r,"prototype",{writable:!1}),e}(n.Component)},57969:(t,e,r)=>{"use strict";r.d(e,{A:()=>y});var n=r(96540),o=r(5556),i=r.n(o),s=r(54625),a=r(74848);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:String(e)}function f(t,e,r){return e=h(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,r||[],h(t).constructor):e.apply(t,r))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}var y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,e,arguments)}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){return(0,a.jsxs)("div",{children:[(0,a.jsxs)("aside",{className:"menu admin-sidebar is-hidden-mobile",role:"navigation",children:[""!==this.props.title?(0,a.jsx)("p",{className:"menu-heading",children:this.props.title}):null,(0,a.jsx)("ul",{className:"menu-list",children:this.props.links.map((function(t,e){return(0,a.jsx)("li",{children:(0,a.jsxs)(s.k2,{to:t.to,activeClassName:"is-active",exact:!0,children:[(0,a.jsx)("i",{className:"fa ".concat(t.icon)})," ",t.label]})},"sidebar_".concat(e))}))})]}),(0,a.jsx)("aside",{className:"tabs is-hidden-tablet home-tabs",children:this.props.links.map((function(t,e){return(0,a.jsx)("li",{children:(0,a.jsxs)(s.k2,{to:t.to,activeClassName:"is-active",exact:!0,children:[(0,a.jsx)("span",{className:"icon is-small",children:(0,a.jsx)("i",{className:"fa ".concat(t.icon)})}),(0,a.jsx)("span",{children:t.label})]})},"sidebar_tab_".concat(e))}))})]})}}])&&u(r.prototype,n),o&&u(r,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(n.Component);y.propTypes={links:i().array.isRequired,title:i().string},y.defaultProps={title:""}},11954:(t,e,r)=>{"use strict";r.d(e,{A:()=>m});var n=r(96540),o=r(5556),i=r.n(o),s=r(19480),a=r(54625),c=r(72060),u=r(74848);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function p(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:String(e)}function h(t,e,r){return e=y(e),function(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}var m=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=h(this,e,[t])).state={isActive:!1},r}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(e,t),r=e,(n=[{key:"toggle",value:function(){this.setState({isActive:!this.state.isActive})}},{key:"render",value:function(){return(0,u.jsx)("nav",{className:"navbar".concat(this.props.home?" home-nav":""),children:(0,u.jsxs)("div",{className:"".concat(this.props.container?"container is-fluid":"container"),children:[(0,u.jsxs)("div",{className:"navbar-brand",children:[(0,u.jsxs)(a.k2,{to:"/",className:"navbar-item",children:[(0,u.jsx)("img",{src:"/logo/ts-logo-".concat(this.props.home?"48":"32",".png"),alt:"Logo",className:"logo-img"}),(0,u.jsxs)("span",{className:"logo-text",children:[(0,u.jsx)("b",{children:"Tree"}),(0,u.jsx)("span",{style:{fontWeight:300},children:"Snap"})]})]}),(0,u.jsxs)("div",{className:"navbar-burger",onClick:this.toggle.bind(this),children:[(0,u.jsx)("span",{}),(0,u.jsx)("span",{}),(0,u.jsx)("span",{})]})]}),(0,u.jsx)("div",{className:"navbar-menu".concat(this.state.isActive?" is-active":""),children:(0,u.jsxs)("div",{className:"navbar-end",children:[(0,u.jsx)(a.k2,{exact:!0,to:"/",className:"navbar-item",activeClassName:"is-active",children:"Home"}),(0,u.jsx)(a.k2,{to:"/map",className:"navbar-item",activeClassName:"is-active",children:"Map"}),(0,u.jsx)(a.k2,{to:"/partners",className:"navbar-item",activeClassName:"is-active",children:"Scientific Partners"}),(0,u.jsx)(a.k2,{to:"/about",className:"navbar-item",activeClassName:"is-active",children:"About"}),c.A.authenticated()?(0,u.jsx)("div",{className:"navbar-item",children:(0,u.jsxs)("div",{className:"dropdown has-dropdown is-hoverable",children:[(0,u.jsx)(a.k2,{to:"/account",className:"navbar-link dropdown-trigger",activeClassName:"is-active",children:"Account"}),(0,u.jsxs)("div",{className:"navbar-dropdown dropdown-menu",children:[(0,u.jsx)(a.k2,{to:"/account/observations",className:"navbar-item",activeClassName:"is-active",children:"My Observations"}),(0,u.jsx)(a.k2,{to:"/account/groups",className:"navbar-item",activeClassName:"is-active",children:"Groups"}),(0,u.jsx)(a.k2,{to:"/account/collections",className:"navbar-item",activeClassName:"is-active",children:"Collections"}),(0,u.jsx)(a.k2,{to:"/account/filters",className:"navbar-item",activeClassName:"is-active",children:"Filters"}),(0,u.jsx)("hr",{className:"navbar-divider"}),(0,u.jsx)(a.k2,{to:"/account",className:"navbar-item",activeClassName:"is-active",children:"Settings"}),(0,u.jsx)("a",{href:"/logout",className:"navbar-item",children:"Logout"})]})]})}):null,c.A.authenticated()?null:(0,u.jsx)("a",{href:"/login",className:"navbar-item ".concat(s.A.isActive("/login")),children:"Login"}),c.A.authenticated()?null:(0,u.jsx)("a",{href:"/register",className:"navbar-item ".concat(s.A.isActive("/register")),children:"Register"}),c.A.can("access admin pages")?(0,u.jsx)("a",{href:"/admin",className:"navbar-item ".concat(s.A.isActive("/admin",!1)),children:"Admin"}):null]})})]})})}}])&&f(r.prototype,n),o&&f(r,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(n.Component);m.propTypes={container:i().bool,home:i().bool},m.defaultProps={container:!1,home:!1}},40199:(t,e,r)=>{"use strict";r.d(e,{A:()=>y});var n=r(96540),o=r(40961),i=r(5556),s=r.n(i),a=r(74848);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:String(e)}function f(t,e,r){return e=h(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,r||[],h(t).constructor):e.apply(t,r))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}var y=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=f(this,e,[t])).state={show:!1,hiding:!1,marginTop:window.scrollY>70?-40:0},r}var r,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),r=e,s=[{key:"_remove",value:function(){this.stack&&this.stack.length>0&&document.body.removeChild(this.stack.shift())}},{key:"push",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",i=document.createElement("div");o.render(n.createElement(e,{message:t,type:r,container:i}),i),document.body.appendChild(i),this.stack.length>0&&this._remove(),this.stack.push(i)}}],(i=[{key:"componentDidMount",value:function(){var t=this;this.timer=setTimeout((function(){t.hide()}),5e3),setTimeout((function(){t.setState({show:!0})}),100),window.addEventListener("scroll",this.handleWindowScroll.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleWindowScroll.bind(this))}},{key:"handleWindowScroll",value:function(){var t=window.scrollY>70?-40:0;this.setState({marginTop:t})}},{key:"hide",value:function(){this.setState({hiding:!0}),clearTimeout(this.timer)}},{key:"render",value:function(){var t="";switch(this.props.type){case"success":case"danger":case"info":case"warning":t="is-".concat(this.props.type);break;default:t="is-success"}t+=this.state.show?" show":"",t+=this.state.hiding?" hiding":"";var e=this.state.marginTop;return(0,a.jsxs)("div",{className:"notification push-notification ".concat(t),style:{marginTop:e+"px"},children:[(0,a.jsx)("button",{type:"button",className:"delete",onClick:this.hide.bind(this)}),this.props.message]})}}])&&u(r.prototype,i),s&&u(r,s),Object.defineProperty(r,"prototype",{writable:!1}),e}(n.Component);y.propTypes={message:s().string.isRequired,type:s().string,container:s().object.isRequired},y.defaultProps={type:"success"},y.stack=[]},10985:(t,e,r)=>{"use strict";r.d(e,{A:()=>d});var n=r(96540),o=r(5556),i=r.n(o),s=r(74848);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}function l(t,e,r){return e=p(e),function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,[t])}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){return this.props.visible?this.props.inline?(0,s.jsx)("div",{className:"mt-1",style:this.props.containerStyle,children:(0,s.jsx)("i",{className:"fa fa-refresh fa-spin fa-2x"})}):(0,s.jsxs)("div",{className:"spinner-overlay",style:this.props.containerStyle,children:[(0,s.jsx)("div",{className:"overlay-blur"}),(0,s.jsx)("span",{className:"spinner-container",children:(0,s.jsx)("i",{className:"is-loading"})})]}):null}}])&&c(r.prototype,n),o&&c(r,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(n.Component);d.propTypes={visible:i().bool.isRequired,containerStyle:i().object,inline:i().bool},d.defaultProps={containerStyle:{},inline:!1}},57061:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}r.d(e,{A:()=>s});const s=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,(r=[{key:"emit",value:function(t){var e;document.createEvent?(e=new Event(t),document.dispatchEvent(e)):(e=document.createEventObject(),document.fireEvent("on"+t,e))}},{key:"listen",value:function(t,e){document.addEventListener(t,e)}},{key:"remove",value:function(t,e){document.removeEventListener(t,e)}}])&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())},19480:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}r.d(e,{A:()=>s});const s=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setPath()}var e,r,n;return e=t,r=[{key:"setPath",value:function(){this.path=window.location.pathname,"/"!==this.path&&this.path.replace(/\/$/g,"")}},{key:"isActive",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is-active";return this.setPath(),e&&this.path===t||!e&&this.path.indexOf(t)>=0?r:null}},{key:"parseUrl",value:function(t){t=t.substr(1);var e={};return t.split("&").forEach((function(t){if(t){var r=(t=t.split("+").join(" ")).indexOf("="),n=r>-1?t.substr(0,r):t,o=r>-1?decodeURIComponent(t.substr(r+1)):"",i=n.indexOf("[");if(-1===i)e[decodeURIComponent(n)]=o;else{var s=n.indexOf("]",i),a=decodeURIComponent(n.substring(i+1,s));n=decodeURIComponent(n.substring(0,i)),e[n]||(e[n]=[]),a?e[n][a]=o:e[n].push(o)}}})),e}}],r&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())},72060:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var n=r(57061);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}const a=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e=JSON.parse(JSON.stringify(window.TreeSnap))),this._role=null!==e.role?e.role.toLowerCase():null,this._isLoggedIn=e.loggedIn,this._isAdmin="admin"===this._role,this._isScientist="scientist"===this._role,this._user=e.user,this._groups=[],this._abilities={member:[],owner:[],admin:[]},this._role&&(this._role=this._role.toLowerCase()),this.initAbilities(),this.loadGroups(),n.A.listen("user.groups.updated",this.loadGroups.bind(this))}var e,r,s;return e=t,(r=[{key:"initAbilities",value:function(){this._abilities.user=["create notes","create collections","flag observations"],this._abilities.scientist=["contact users","confirm species","access admin pages","view accurate location"].concat(this._abilities.user),this._abilities.admin=["manage users","delete observations","manage events"].concat(this._abilities.scientist)}},{key:"loadGroups",value:function(){var t=this;this.authenticated()&&axios.get("/web/groups?with_users=1").then((function(e){t._groups=e.data.data.map((function(t){return{id:t.id,users:t.users.map((function(t){return t.id}))}}))})).catch((function(t){console.log(t)}))}},{key:"can",value:function(t){return!(!this.authenticated()||null===this._role)&&this._abilities[this._role].indexOf(t)>-1}},{key:"owns",value:function(t,e){return void 0===e&&(e="user_id"),"object"===o(t)?Array.isArray(t)?t.every(this.owns.bind(this)):void 0!==t[e]&&t[e]===this._user.id:"number"==typeof t&&this._user.id===t}},{key:"inGroupWith",value:function(t){for(var e in this._groups)if(this._groups[e].users.indexOf(t)>-1)return!0;return!1}},{key:"inGroup",value:function(t){for(var e in this._groups)if(this._groups[e].id===t)return!0;return!1}},{key:"authenticated",value:function(){return this._isLoggedIn}},{key:"admin",value:function(){return this._isAdmin}},{key:"scientist",value:function(){return this._isScientist}},{key:"role",value:function(){return this._role}},{key:"user",value:function(){return this._user}}])&&i(e.prototype,r),s&&i(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}())},77221:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>m});r(96540);var n=r(69688),o=r(52660),i=r(43533),s=r(74848);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return(e=p(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function p(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}function h(t,e,r){return e=y(e),function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}var m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,e,arguments)}var r,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(e,t),r=e,(i=[{key:"componentDidMount",value:function(){window.fixHeight()}},{key:"render",value:function(){return(0,s.jsx)(o.A,{children:(0,s.jsx)(n.default,u({admin:!1},this.props))})}}])&&f(r.prototype,i),a&&f(r,a),Object.defineProperty(r,"prototype",{writable:!1}),e}(i.A)},43533:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function s(t,e,r){return e=c(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,r||[],c(t).constructor):e.apply(t,r))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(a=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}r.d(e,{A:()=>l});var l=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=s(this,e,[t]),window.ga&&setTimeout((function(){return window.ga("send","pageview")}),2500),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(e,t),r=e,n&&o(r.prototype,n),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(96540).Component)},35358:(t,e,r)=>{var n={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function o(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id=35358}}]);