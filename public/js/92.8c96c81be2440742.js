"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[92],{75949:(t,e,n)=>{n.d(e,{Z:()=>y});var r=n(67294),o=n(45697),i=n.n(o),c=n(85893);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(s,t);var e,n,o,i=l(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,t)).state={show:!1},e}return e=s,(n=[{key:"show",value:function(){this.setState({show:!0})}},{key:"hide",value:function(){var t=this;setTimeout((function(){t.setState({show:!1})}),this.props.timeout)}},{key:"toggle",value:function(){this.state.show?this.hide():this.show()}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleOutClick.bind(this))}},{key:"componentWillUnmount",value:function(){document.addEventListener("click",this.handleOutClick.bind(this))}},{key:"handleOutClick",value:function(t){var e=t.target;this.state.show&&this.refs.menu&&(e===this.refs.menu||this.refs.menu.contains(e)||this.hide())}},{key:"render",value:function(){var t=this;return(0,c.jsxs)("div",{ref:"menu",className:"dropdown".concat(this.state.show?" is-active":"").concat(this.props.right?" is-right":""," has-text-left"),style:{width:this.props.isBlock?"100%":void 0},children:[(0,c.jsx)("div",{className:"dropdown-trigger",style:{width:this.props.isBlock?"100%":void 0},onClick:this.toggle.bind(this),children:this.props.trigger}),(0,c.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:(0,c.jsx)("div",{className:"dropdown-content",children:this.props.children.map((function(e,n){return r.cloneElement(e,{key:n,onClick:function(){setTimeout(t.hide.bind(t),t.props.timeout)}})}))})})]})}}])&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(r.Component);y.propTypes={trigger:i().object.isRequired,right:i().bool,isBlock:i().bool,timeout:i().number},y.defaultProps={right:!1,isBlock:!1,timeout:110}},6608:(t,e,n)=>{n.d(e,{Z:()=>y});var r=n(67294),o=n(45697),i=n.n(o),c=n(85893);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(i,t);var e,n,r,o=l(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,(n=[{key:"render",value:function(){return this.props.visible?this.props.inline?(0,c.jsx)("div",{className:"mt-1",style:this.props.containerStyle,children:(0,c.jsx)("i",{className:"fa fa-refresh fa-spin fa-2x"})}):(0,c.jsxs)("div",{className:"spinner-overlay",style:this.props.containerStyle,children:[(0,c.jsx)("div",{className:"overlay-blur"}),(0,c.jsx)("span",{className:"spinner-container",children:(0,c.jsx)("i",{className:"is-loading"})})]}):null}}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.Component);y.propTypes={visible:i().bool.isRequired,containerStyle:i().object,inline:i().bool},y.defaultProps={containerStyle:{},inline:!1}},31487:(t,e,n)=>{n.d(e,{Z:()=>b});var r=n(67294),o=n(45697),i=n.n(o),c=n(85893);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(i,t);var e,n,r,o=y(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={show:!1},e}return e=i,(n=[{key:"render",value:function(){var t=this;return(0,c.jsxs)("div",a(a({className:"tooltip ".concat(this.props.position),onMouseEnter:function(){return t.setState({show:!0})},onMouseLeave:function(){return t.setState({show:!1})}},_.omit(this.props,Object.keys(i.propTypes))),{},{onClick:function(){t.props.hideOnClick&&t.setState({show:!1})},children:[this.props.children,(0,c.jsx)("div",{className:"tooltip-text".concat(this.state.show?" show":""),children:this.props.label})]}))}}])&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(r.Component);b.propTypes={label:i().string.isRequired,position:i().string,hideOnClick:i().bool},b.defaultProps={position:"top",hideOnClick:!0}},69092:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});n(67294);var r=n(6608),o=n(73727),i=n(31487),c=n(75949),s=n(27646),u=n(85893);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(y,t);var e,n,s,a=p(y);function y(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),(e=a.call(this,t)).state={filters:[],loading:!0},e.account=-1!==window.location.pathname.toLowerCase().indexOf("account"),document.title="Saved Filters - TreeSnap",e}return e=y,(n=[{key:"componentDidMount",value:function(){var t=this;axios.get("/web/filters").then((function(e){t.setState({loading:!1,filters:e.data.data})})).catch((function(e){t.setState({loading:!1})}))}},{key:"deleteFilter",value:function(t,e){var n=this;t.preventDefault(),confirm('Are you sure you want to delete "'.concat(e.name,'"?'))&&axios.delete("/web/filter/".concat(e.id)).then((function(t){var r=n.state.filters.filter((function(t){return e.id!==t.id}));n.setState({filters:r})})).catch((function(t){console.log(t.response)}))}},{key:"_renderRow",value:function(t){var e=this;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:t.name}),(0,u.jsxs)("td",{className:"has-text-right",children:[(0,u.jsxs)(c.Z,{right:!0,trigger:(0,u.jsxs)("button",{className:"button is-small","aria-haspopup":"true","aria-controls":"dropdown-menu",children:[(0,u.jsx)("span",{className:"icon is-small",children:(0,u.jsx)("i",{className:"fa fa-download"})}),(0,u.jsx)("span",{className:"icon is-small",children:(0,u.jsx)("i",{className:"fa fa-angle-down","aria-hidden":"true"})})]}),children:[(0,u.jsx)("a",{href:"/services/download/filter/".concat(t.id,"/tsv"),className:"dropdown-item",children:"TSV Format"}),(0,u.jsx)("a",{href:"/services/download/filter/".concat(t.id,"/csv"),className:"dropdown-item",children:"CSV Format"})]}),(0,u.jsx)("button",{type:"button",className:"button is-small is-danger ml-1",onClick:function(n){return e.deleteFilter(n,t)},children:(0,u.jsx)("span",{className:"icon is-small",children:(0,u.jsx)(i.Z,{label:"Delete",children:(0,u.jsx)("i",{className:"fa fa-times"})})})})]})]},t.id)}},{key:"render",value:function(){return(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"title is-3",children:"Manage Advanced Filters"}),(0,u.jsx)("div",{className:"box",children:0!==this.state.filters.length?(0,u.jsxs)("table",{className:"table is-striped mb-none",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Name"}),(0,u.jsx)("th",{className:"has-text-right",children:"Action"})]})}),(0,u.jsx)("tbody",{children:this.state.filters.map(this._renderRow.bind(this))})]}):(0,u.jsxs)("p",{className:"text-muted",children:["You have not created any filters yet. You can create new filters in the ",this.account?(0,u.jsx)(o.rU,{to:"/map",children:"Map"}):(0,u.jsx)(o.rU,{to:"/observations",children:"Observations"})," or ",this.account?(0,u.jsx)(o.rU,{to:"/account/observations",children:"your observations"}):null," page."]})}),(0,u.jsx)(r.Z,{visible:this.state.loading})]})}}])&&l(e.prototype,n),s&&l(e,s),Object.defineProperty(e,"prototype",{writable:!1}),y}(s.Z)},27646:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.d(e,{Z:()=>a});var a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(u,t);var e,n,r,s=c(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=s.call(this,t),window.ga&&setTimeout((function(){return window.ga("send","pageview")}),2500),e}return e=u,n&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(n(67294).Component)}}]);