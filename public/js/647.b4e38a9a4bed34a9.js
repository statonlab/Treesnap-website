(self.webpackChunk=self.webpackChunk||[]).push([[647],{52660:(e,t,r)=>{"use strict";r.d(t,{A:()=>b});var n=r(96540);const s=[{to:"/account",icon:"fa-address-card-o",label:"Settings"},{to:"/account/observations",icon:"fa-tree",label:"Observations"},{to:"/account/groups",icon:"fa-users",label:"Groups"},{to:"/account/collections",icon:"fa-th",label:"Collections"},{to:"/account/filters",icon:"fa-filter",label:"Filters"}];var i=r(11954),o=r(32660),a=r(57969),c=r(74848);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:String(t)}function f(e,t,r){return t=h(t),function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,t,arguments)}var r,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,c.jsxs)("div",{children:[(0,c.jsx)(i.A,{}),(0,c.jsx)("div",{className:"home-section short-content",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"columns",children:[(0,c.jsx)("div",{className:"column is-narrow account-sidebar-container",children:(0,c.jsx)(a.A,{links:s,title:"Members"})}),(0,c.jsx)("div",{className:"column",children:this.props.children})]})})}),(0,c.jsx)(o.A,{})]})}}])&&u(r.prototype,n),l&&u(r,l),Object.defineProperty(r,"prototype",{writable:!1}),t}(n.Component)},32660:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(96540),s=r(72060),i=r(74848);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:String(t)}function l(e,t,r){return t=d(t),function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,r||[],d(e).constructor):t.apply(e,r))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,t,[e])}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return(0,i.jsx)("div",{className:"home-footer",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"columns has-text-centered",children:[(0,i.jsxs)("div",{className:"column is-4",children:[(0,i.jsx)("p",{children:(0,i.jsx)("b",{children:"Site Map"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/map",children:"Observations Map"})}),s.A.authenticated()?(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/account",children:"Your Account"})}):null,s.A.authenticated()?null:(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/register",children:"Registration"})}),s.A.authenticated()?null:(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/login",children:"Login"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/developer",children:"Developer"})})]})]}),(0,i.jsxs)("div",{className:"column is-4",children:[(0,i.jsx)("p",{children:(0,i.jsx)("b",{children:"Resources"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/about",children:"About Us"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/contact",children:"Contact Us"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/partners",children:"Scientific Partners"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/trees",children:"The Trees of TreeSnap"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/faq",children:"Frequently Asked Questions"})})]})]}),(0,i.jsxs)("div",{className:"column is-4",children:[(0,i.jsx)("p",{className:"mb-1",children:(0,i.jsx)("b",{children:"Legal"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/privacy-policy",children:"Privacy Policy"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/terms-of-use",children:"Terms of Use"})})]})]})]}),(0,i.jsxs)("div",{className:"columns logos",children:[(0,i.jsx)("div",{className:"column has-text-centered",children:(0,i.jsx)("a",{href:"https://www.utk.edu/",children:(0,i.jsx)("img",{src:"/images/ut3.png",alt:"University of Tennessee Logo"})})}),(0,i.jsx)("div",{className:"column has-text-centered",children:(0,i.jsx)("a",{href:"https://uky.edu",children:(0,i.jsx)("img",{src:"/images/uky3.png",alt:"University of Kentucky Logo"})})}),(0,i.jsx)("div",{className:"column has-text-centered",children:(0,i.jsx)("a",{href:"https://www.nsf.gov/",children:(0,i.jsx)("img",{src:"/images/nsf1.png",alt:"NSF Logo"})})})]}),(0,i.jsxs)("p",{className:"has-text-centered",children:["Copyright Â© ",(new Date).getFullYear()," University of Tennessee Knoxville and University of Kentucky."]})]})})}}])&&a(r.prototype,n),o&&a(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(n.Component)},57969:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(96540),s=r(5556),i=r.n(s),o=r(54625),a=r(74848);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}function d(e,t,r){return t=p(t),function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,t,arguments)}var r,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return(0,a.jsxs)("div",{children:[(0,a.jsxs)("aside",{className:"menu admin-sidebar is-hidden-mobile",role:"navigation",children:[""!==this.props.title?(0,a.jsx)("p",{className:"menu-heading",children:this.props.title}):null,(0,a.jsx)("ul",{className:"menu-list",children:this.props.links.map((function(e,t){return(0,a.jsx)("li",{children:(0,a.jsxs)(o.k2,{to:e.to,activeClassName:"is-active",exact:!0,children:[(0,a.jsx)("i",{className:"fa ".concat(e.icon)})," ",e.label]})},"sidebar_".concat(t))}))})]}),(0,a.jsx)("aside",{className:"tabs is-hidden-tablet home-tabs",children:this.props.links.map((function(e,t){return(0,a.jsx)("li",{children:(0,a.jsxs)(o.k2,{to:e.to,activeClassName:"is-active",exact:!0,children:[(0,a.jsx)("span",{className:"icon is-small",children:(0,a.jsx)("i",{className:"fa ".concat(e.icon)})}),(0,a.jsx)("span",{children:e.label})]})},"sidebar_tab_".concat(t))}))})]})}}])&&l(r.prototype,n),s&&l(r,s),Object.defineProperty(r,"prototype",{writable:!1}),t}(n.Component);m.propTypes={links:i().array.isRequired,title:i().string},m.defaultProps={title:""}},11954:(e,t,r)=>{"use strict";r.d(t,{A:()=>y});var n=r(96540),s=r(5556),i=r.n(s),o=r(19480),a=r(54625),c=r(72060),l=r(74848);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:String(t)}function p(e,t,r){return t=m(t),function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var y=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=p(this,t,[e])).state={isActive:!1},r}var r,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"toggle",value:function(){this.setState({isActive:!this.state.isActive})}},{key:"render",value:function(){return(0,l.jsx)("nav",{className:"navbar".concat(this.props.home?" home-nav":""),children:(0,l.jsxs)("div",{className:"".concat(this.props.container?"container is-fluid":"container"),children:[(0,l.jsxs)("div",{className:"navbar-brand",children:[(0,l.jsxs)(a.k2,{to:"/",className:"navbar-item",children:[(0,l.jsx)("img",{src:"/logo/ts-logo-".concat(this.props.home?"48":"32",".png"),alt:"Logo",className:"logo-img"}),(0,l.jsxs)("span",{className:"logo-text",children:[(0,l.jsx)("b",{children:"Tree"}),(0,l.jsx)("span",{style:{fontWeight:300},children:"Snap"})]})]}),(0,l.jsxs)("div",{className:"navbar-burger",onClick:this.toggle.bind(this),children:[(0,l.jsx)("span",{}),(0,l.jsx)("span",{}),(0,l.jsx)("span",{})]})]}),(0,l.jsx)("div",{className:"navbar-menu".concat(this.state.isActive?" is-active":""),children:(0,l.jsxs)("div",{className:"navbar-end",children:[(0,l.jsx)(a.k2,{exact:!0,to:"/",className:"navbar-item",activeClassName:"is-active",children:"Home"}),(0,l.jsx)(a.k2,{to:"/map",className:"navbar-item",activeClassName:"is-active",children:"Map"}),(0,l.jsx)(a.k2,{to:"/partners",className:"navbar-item",activeClassName:"is-active",children:"Scientific Partners"}),(0,l.jsx)(a.k2,{to:"/about",className:"navbar-item",activeClassName:"is-active",children:"About"}),c.A.authenticated()?(0,l.jsx)("div",{className:"navbar-item",children:(0,l.jsxs)("div",{className:"dropdown has-dropdown is-hoverable",children:[(0,l.jsx)(a.k2,{to:"/account",className:"navbar-link dropdown-trigger",activeClassName:"is-active",children:"Account"}),(0,l.jsxs)("div",{className:"navbar-dropdown dropdown-menu",children:[(0,l.jsx)(a.k2,{to:"/account/observations",className:"navbar-item",activeClassName:"is-active",children:"My Observations"}),(0,l.jsx)(a.k2,{to:"/account/groups",className:"navbar-item",activeClassName:"is-active",children:"Groups"}),(0,l.jsx)(a.k2,{to:"/account/collections",className:"navbar-item",activeClassName:"is-active",children:"Collections"}),(0,l.jsx)(a.k2,{to:"/account/filters",className:"navbar-item",activeClassName:"is-active",children:"Filters"}),(0,l.jsx)("hr",{className:"navbar-divider"}),(0,l.jsx)(a.k2,{to:"/account",className:"navbar-item",activeClassName:"is-active",children:"Settings"}),(0,l.jsx)("a",{href:"/logout",className:"navbar-item",children:"Logout"})]})]})}):null,c.A.authenticated()?null:(0,l.jsx)("a",{href:"/login",className:"navbar-item ".concat(o.A.isActive("/login")),children:"Login"}),c.A.authenticated()?null:(0,l.jsx)("a",{href:"/register",className:"navbar-item ".concat(o.A.isActive("/register")),children:"Register"}),c.A.can("access admin pages")?(0,l.jsx)("a",{href:"/admin",className:"navbar-item ".concat(o.A.isActive("/admin",!1)),children:"Admin"}):null]})})]})})}}])&&d(r.prototype,n),s&&d(r,s),Object.defineProperty(r,"prototype",{writable:!1}),t}(n.Component);y.propTypes={container:i().bool,home:i().bool},y.defaultProps={container:!1,home:!1}},57061:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}r.d(t,{A:()=>o});const o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"emit",value:function(e){var t;document.createEvent?(t=new Event(e),document.dispatchEvent(t)):(t=document.createEventObject(),document.fireEvent("on"+e,t))}},{key:"listen",value:function(e,t){document.addEventListener(e,t)}},{key:"remove",value:function(e,t){document.removeEventListener(e,t)}}])&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())},19480:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}r.d(t,{A:()=>o});const o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setPath()}var t,r,n;return t=e,r=[{key:"setPath",value:function(){this.path=window.location.pathname,"/"!==this.path&&this.path.replace(/\/$/g,"")}},{key:"isActive",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is-active";return this.setPath(),t&&this.path===e||!t&&this.path.indexOf(e)>=0?r:null}},{key:"parseUrl",value:function(e){e=e.substr(1);var t={};return e.split("&").forEach((function(e){if(e){var r=(e=e.split("+").join(" ")).indexOf("="),n=r>-1?e.substr(0,r):e,s=r>-1?decodeURIComponent(e.substr(r+1)):"",i=n.indexOf("[");if(-1===i)t[decodeURIComponent(n)]=s;else{var o=n.indexOf("]",i),a=decodeURIComponent(n.substring(i+1,o));n=decodeURIComponent(n.substring(0,i)),t[n]||(t[n]=[]),a?t[n][a]=s:t[n].push(s)}}})),t}}],r&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())},72060:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(57061);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}const a=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t&&(t=JSON.parse(JSON.stringify(window.TreeSnap))),this._role=null!==t.role?t.role.toLowerCase():null,this._isLoggedIn=t.loggedIn,this._isAdmin="admin"===this._role,this._isScientist="scientist"===this._role,this._user=t.user,this._groups=[],this._abilities={member:[],owner:[],admin:[]},this._role&&(this._role=this._role.toLowerCase()),this.initAbilities(),this.loadGroups(),n.A.listen("user.groups.updated",this.loadGroups.bind(this))}var t,r,o;return t=e,(r=[{key:"initAbilities",value:function(){this._abilities.user=["create notes","create collections","flag observations"],this._abilities.scientist=["contact users","confirm species","access admin pages","view accurate location"].concat(this._abilities.user),this._abilities.admin=["manage users","delete observations","manage events"].concat(this._abilities.scientist)}},{key:"loadGroups",value:function(){var e=this;this.authenticated()&&axios.get("/web/groups?with_users=1").then((function(t){e._groups=t.data.data.map((function(e){return{id:e.id,users:e.users.map((function(e){return e.id}))}}))})).catch((function(e){console.log(e)}))}},{key:"can",value:function(e){return!(!this.authenticated()||null===this._role)&&this._abilities[this._role].indexOf(e)>-1}},{key:"owns",value:function(e,t){return void 0===t&&(t="user_id"),"object"===s(e)?Array.isArray(e)?e.every(this.owns.bind(this)):void 0!==e[t]&&e[t]===this._user.id:"number"==typeof e&&this._user.id===e}},{key:"inGroupWith",value:function(e){for(var t in this._groups)if(this._groups[t].users.indexOf(e)>-1)return!0;return!1}},{key:"inGroup",value:function(e){for(var t in this._groups)if(this._groups[t].id===e)return!0;return!1}},{key:"authenticated",value:function(){return this._isLoggedIn}},{key:"admin",value:function(){return this._isAdmin}},{key:"scientist",value:function(){return this._isScientist}},{key:"role",value:function(){return this._role}},{key:"user",value:function(){return this._user}}])&&i(t.prototype,r),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}())},51738:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});r(96540);var n=r(52660),s=r(95093),i=r.n(s),o=r(43533),a=r(74848);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}function d(e,t,r){return t=p(t),function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var m=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=d(this,t,[e])).state={name:"",units:"",email:"",is_anonymous:0,birth_year:"",errors:{name:[],email:[],is_anonymous:[],birth_year:[],units:[]},message:"",new_password:"",old_password:"",new_password_confirmation:"",password_errors:[],password_message:"",provider:"",has_password:!0},document.title="User Account",r}var r,s,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),r=t,(s=[{key:"componentDidMount",value:function(){var e=this;axios.get("/web/user").then((function(t){var r=t.data.data;e.setState({name:r.name,units:r.units,email:r.email,is_anonymous:r.is_anonymous?1:0,birth_year:r.birth_year,provider:r.provider,has_password:r.has_password}),window.fixHeight()})).catch((function(e){console.log(e)}))}},{key:"submit",value:function(e){var t=this;e.preventDefault(),axios.put("/web/user",{name:this.state.name,email:this.state.email,is_anonymous:this.state.is_anonymous,birth_year:this.state.birth_year,units:this.state.units}).then((function(e){var r=e.data.data;t.setState({name:r.name,email:r.email,units:r.units,is_anonymous:r.is_anonymous?1:0,message:"Account updated successfully",errors:{name:[],email:[],is_anonymous:[],birth_year:[],units:[]}}),window.TreeSnap.units=r.units})).catch((function(e){if(e.response&&422===e.response.status){var r=e.response.data;t.setState({message:"",errors:{name:r.name||[],email:r.email||[],is_anonymous:r.is_anonymous||[],birth_year:r.birth_year||[]}})}}))}},{key:"submitPassword",value:function(e){var t=this;e.preventDefault(),axios.patch("/web/user/password",{new_password:this.state.new_password,new_password_confirmation:this.state.new_password_confirmation,old_password:this.state.old_password}).then((function(e){t.setState({password_message:e.data.data,password_errors:[],new_password:"",new_password_confirmation:"",old_password:""})})).catch((function(e){if(e.response&&422===e.response.status){var r=e.response.data,n=[];Object.keys(r).map((function(e){r[e].map((function(e){return n.push(e)}))})),t.setState({password_errors:n,password_message:""})}}))}},{key:"renderPasswordErrors",value:function(){if(0!==this.state.password_errors.length)return(0,a.jsx)("div",{className:"alert is-danger",children:this.state.password_errors.map((function(e,t){return(0,a.jsx)("p",{children:e},t)}))})}},{key:"renderPasswordForm",value:function(){var e=this;return(0,a.jsxs)("div",{className:"box",children:[(0,a.jsx)("h1",{className:"title is-4",children:"Change Password"}),(0,a.jsxs)("form",{action:"#",method:"post",onSubmit:this.submitPassword.bind(this),children:[this.renderPasswordErrors(),""!==this.state.password_message?(0,a.jsx)("div",{className:"alert is-success",children:this.state.password_message}):null,(0,a.jsxs)("div",{className:"field limit-width",children:[(0,a.jsx)("label",{className:"label",children:"Old Password"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{type:"password",className:"input",placeholder:"Old password",value:this.state.old_password,onChange:function(t){return e.setState({old_password:t.target.value})}})})]}),(0,a.jsxs)("div",{className:"field limit-width",children:[(0,a.jsx)("label",{className:"label",children:"New Password"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{type:"password",className:"input",placeholder:"New password",value:this.state.new_password,onChange:function(t){return e.setState({new_password:t.target.value})}})})]}),(0,a.jsxs)("div",{className:"field limit-width",children:[(0,a.jsx)("label",{className:"label",children:"Repeat Password"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{type:"password",className:"input",placeholder:"Repeat new password",value:this.state.new_password_confirmation,onChange:function(t){return e.setState({new_password_confirmation:t.target.value})}})})]}),(0,a.jsx)("div",{className:"field mt-1",children:(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("button",{type:"submit",className:"button is-primary",children:"Update Password"})})})]})]})}},{key:"submitNewPassword",value:function(e){var t=this;e.preventDefault(),axios.post("/web/user/create-password",{password:this.state.new_password,password_confirmation:this.state.new_password_confirmation}).then((function(e){t.setState({has_password:!0,password_message:"Password created successfully. You may now login using your email and new password.",new_password:"",new_password_confirmation:""})})).catch((function(e){e.response&&422===e.response.status&&t.setState({password_errors:e.response.data.password}),console.log(e)}))}},{key:"renderCreatePasswordForm",value:function(){var e=this;return(0,a.jsxs)("div",{className:"box",children:[(0,a.jsx)("h1",{className:"title is-4 mb-1",children:"Create Password"}),(0,a.jsxs)("form",{action:"#",method:"post",onSubmit:this.submitNewPassword.bind(this),children:[this.renderPasswordErrors(),""!==this.state.password_message?(0,a.jsx)("div",{className:"alert is-success",children:this.state.password_message}):null,(0,a.jsxs)("div",{className:"alert is-warning mb-1",children:["You are logged in using your ",this.state.provider," account and have not yet set up a password with TreeSnap.",(0,a.jsx)("br",{}),"Setting up a password with TreeSnap allows you to login without using third party services such as ",this.state.provider,"."]}),(0,a.jsxs)("div",{className:"field limit-width",children:[(0,a.jsx)("label",{className:"label",children:"Password"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{type:"password",className:"input",placeholder:"New password",value:this.state.new_password,onChange:function(t){return e.setState({new_password:t.target.value})}})})]}),(0,a.jsxs)("div",{className:"field limit-width",children:[(0,a.jsx)("label",{className:"label",children:"Repeat Password"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{type:"password",className:"input",placeholder:"Repeat new password",value:this.state.new_password_confirmation,onChange:function(t){return e.setState({new_password_confirmation:t.target.value})}})})]}),(0,a.jsx)("div",{className:"field mt-1",children:(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("button",{type:"submit",className:"button is-primary",children:"Save Password"})})})]})]})}},{key:"_generateBirthDateOptions",value:function(){for(var e=parseInt(i()().format("YYYY").toString()),t=[],r=e;r>e-101;r--)t.push(r);return t.map((function(e,t){return(0,a.jsx)("option",{value:e,children:e},t)}))}},{key:"render",value:function(){var e=this;return(0,a.jsxs)(n.A,{children:[(0,a.jsx)("h3",{className:"title is-3",children:"Settings"}),(0,a.jsxs)("div",{className:"box",children:[(0,a.jsx)("h1",{className:"title is-4",children:"Personal Information"}),""!==this.state.message?(0,a.jsx)("div",{className:"alert is-success",children:this.state.message}):null,(0,a.jsxs)("form",{action:"#",method:"post",onSubmit:this.submit.bind(this),children:[(0,a.jsxs)("div",{className:"field limit-width",children:[(0,a.jsx)("label",{className:"label",children:"Name"}),(0,a.jsxs)("div",{className:"control",children:[(0,a.jsx)("input",{type:"text",className:"input".concat(this.state.errors.name.length>0?" is-danger":""),value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}),this.state.errors.name.map((function(e,t){return(0,a.jsx)("p",{className:"help is-danger",children:e},t)}))]})]}),(0,a.jsxs)("div",{className:"field limit-width",children:[(0,a.jsx)("label",{className:"label",children:"Email"}),(0,a.jsxs)("div",{className:"control",children:[(0,a.jsx)("input",{type:"email",className:"input".concat(this.state.errors.email.length>0?" is-danger":""),value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),this.state.errors.email.map((function(e,t){return(0,a.jsx)("p",{className:"help is-danger",children:e},t)}))]})]}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Year of Birth"}),(0,a.jsx)("div",{className:"select".concat(this.state.errors.birth_year.length>0?" is-danger":""),children:(0,a.jsx)("select",{type:"text",className:"input",value:this.state.birth_year,onChange:function(t){return e.setState({birth_year:t.target.value})},children:this._generateBirthDateOptions()})}),this.state.errors.birth_year.map((function(e,t){return(0,a.jsx)("p",{className:"help is-danger",children:e},t)}))]}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Anonymous"}),(0,a.jsxs)("div",{className:"control",children:[(0,a.jsx)("span",{className:"select".concat(this.state.errors.is_anonymous.length>0?" is-danger":""),children:(0,a.jsxs)("select",{value:this.state.is_anonymous,onChange:function(t){return e.setState({is_anonymous:t.target.value})},children:[(0,a.jsx)("option",{value:"0",children:"No"}),(0,a.jsx)("option",{value:"1",children:"Yes"})]})}),this.state.errors.is_anonymous.map((function(e,t){return(0,a.jsx)("p",{className:"help is-danger",children:e},t)})),(0,a.jsx)("p",{className:"help",children:"Anonymous users have their information hidden from other users."})]})]}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Measurement Units"}),(0,a.jsxs)("div",{className:"control",children:[(0,a.jsx)("span",{className:"select".concat(this.state.errors.units.length>0?" is-danger":""),children:(0,a.jsxs)("select",{value:this.state.units,onChange:function(t){return e.setState({units:t.target.value})},children:[(0,a.jsx)("option",{value:"US",children:"US (Foot, Inches)"}),(0,a.jsx)("option",{value:"metric",children:"Metric (Centimeters, Meters)"})]})}),this.state.errors.units.map((function(e,t){return(0,a.jsx)("p",{className:"help is-danger",children:e},t)}))]})]}),(0,a.jsx)("div",{className:"field mt-1",children:(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("button",{type:"submit",className:"button is-primary",children:"Update"})})})]})]}),this.state.has_password?this.renderPasswordForm():this.renderCreatePasswordForm()]})}}])&&l(r.prototype,s),o&&l(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.A)},43533:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function o(e,t,r){return t=c(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}r.d(t,{A:()=>u});var u=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=o(this,t,[e]),window.ga&&setTimeout((function(){return window.ga("send","pageview")}),2500),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),r=t,n&&s(r.prototype,n),i&&s(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(96540).Component)},35358:(e,t,r)=>{var n={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function s(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=i,e.exports=s,s.id=35358}}]);